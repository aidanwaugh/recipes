*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

//Variables & Functions
:root {
  --site-margin: 10vw;
  --site-margin-half: 2rem; //half of nav-height
}

$nav-height: 4rem;
$text-small: 0.8rem;
$transition-time: 0.3s;

$colors: (
  bg: #f5f5f5,
  grey-light: #c2c2c2,
  grey-medium: #818181,
  grey-dark: #474747,
  accent: #2187ff,
);

//value smaller
$breakpoint-widths: (
  xl: 2000px,
  lg: 1200px,
  md: 900px,
  sm: 600px,
);

@function color($color-name) {
  @return map-get($colors, $color-name);
}

@function getBreakpoint($breakpoint-name) {
  @return map-get($breakpoint-widths, $breakpoint-name);
}

@mixin breakpoint($breakpoint) {
  @media (max-width: #{getBreakpoint($breakpoint)}) {
    @content;
  }
}

//General Styles
body {
  font-family: 'Montserrat', sans-serif;
  background-color: color(bg);
  margin-bottom: 1rem;
  // @include breakpoint(lg) {
  //   background-color: rgb(254, 255, 182);
  // }
  // @include breakpoint(md) {
  //   background-color: rgb(208, 255, 182);
  // }
  // @include breakpoint(sm) {
  //   background-color: rgb(149, 216, 255);
  // }
}

h1,
h2,
h3 {
  font-weight: 400;
}

h1 {
  font-size: 2rem;
  letter-spacing: 1px;
}

h2 {
  font-size: 1.3rem;
  letter-spacing: 0.5px;
}

h3 {
  font-size: 0.9rem;
  color: color(grey-medium);
  text-transform: uppercase;
  letter-spacing: 1px;
}

a {
  text-decoration: none;
  color: black;
  transition-duration: $transition-time;
}

button {
  border: none;
  text-decoration: none;
  background-color: color(bg);
  border: 1px dashed pink;
  cursor: pointer;
  transition-duration: $transition-time;
  &:hover:not(.active):not(.active-underline) {
    color: color(grey-light);
  }
}

img {
  display: block;
  width: 100%;
  height: auto;
}

.img-container {
  position: relative;
  overflow: hidden;
}

//Utilities
.active {
  color: color(accent);
}
.active-underline {
  border-bottom: 2px solid color(accent);
}

.hide {
  display: none !important;
}

//Site Wide
nav {
  height: $nav-height;
  padding: 0 var(--site-margin);
  display: flex;
  justify-content: space-between;
  align-items: center;
  // border: 1px dashed palevioletred;
  border-bottom: 1px solid color(grey-light);
  .logo {
    font-size: 1.4rem;
    text-transform: uppercase;
    margin-right: 1.2rem;
    @include breakpoint(md) {
      display: none;
    }
  }
  a {
    margin-right: 0.8rem;
    letter-spacing: 0.5px;
    &:hover:not(.logo):not(.active-underline) {
      color: color(grey-medium);
    }
    &:not(.logo) {
      padding: 0 0.2rem;
    }
    &:last-child {
      margin-right: 0;
    }
    @include breakpoint(sm) {
      font-size: $text-small;
      margin-right: 0.5rem;
    }
  }
  form {
    display: flex;
    @include breakpoint(md) {
      z-index: 2;
      &.full-search {
        width: calc(95% - 45px);
      }
      // position: fixed;
      // right: var(--site-margin);
      // justify-content: flex-end;
    }
    &:hover path {
      stroke: color(grey-medium);
    }
    &:focus-within {
      border-bottom: 2px solid color(grey-medium);
    }
    input {
      border: none;
      width: 11rem;
      padding-right: 1rem;
      font-size: 0.9rem;
      background: color(bg);
      color: color(grey-dark);
      border-bottom: 1px solid color(grey-light);
      // &:focus-within {
      //   border-color: color(grey-medium);
      // }
      @include breakpoint(md) {
        width: 100%;
        padding: 0 1rem;
      }
    }
    button {
      border: none;
      align-self: end;
      background: color(bg);
      border-bottom: 1px solid color(grey-light);
      svg {
        $search-size: 1.3rem;
        width: $search-size;
        height: $search-size;
        g {
          scale: 1.4;
          // width: $nav-height/2;
          // height: $nav-height/2;
          path {
            stroke: color(grey-light);
            stroke-width: 1.8;
            fill: none;
            stroke-linecap: square;
            transition-duration: $transition-time;
          }
        }
      }
    }
  }
}

//Basic Grid
.content {
  margin: 0 var(--site-margin);
  // background-color: red;
  .thumbnail-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: $nav-height;
    @include breakpoint(lg) {
      grid-template-columns: repeat(3, 1fr);
    }
    @include breakpoint(md) {
      grid-template-columns: repeat(2, 1fr);
      gap: $nav-height/2;
    }
    @include breakpoint(sm) {
      grid-template-columns: 1fr;
      gap: $nav-height/2;
    }
  }
  .recipe-container {
    display: grid;
    grid-template-columns: 1fr 1fr 2fr;
    @include breakpoint(lg) {
      grid-template-columns: 1fr 1fr;
    }

    .details {
      padding-right: var(--site-margin-half);
      padding-bottom: $nav-height/2;
      border-right: 1px solid color(grey-light);
      @include breakpoint(lg) {
        grid-column: 1/2;
        padding-right: var(--site-margin-half);
        padding-bottom: 0;
        // border-bottom: 1px solid color(grey-light);
      }
      @include breakpoint(sm) {
        grid-column: 1/3;
        border-right: none;
        padding-right: 0;
        padding-bottom: $nav-height/4;
        border-bottom: 1px solid color(grey-light);
      }
    }
    .ingredients-container,
    .instructions-container {
      @include breakpoint(lg) {
        padding-top: $nav-height/2;
      }
      @include breakpoint(md) {
        grid-column: 1/3;
      }
    }
    .ingredients-container {
      padding-left: var(--site-margin-half);
      padding-right: var(--site-margin-half);
      @include breakpoint(lg) {
        // padding-left: 0;
        padding-right: 0;
        padding-top: 0;
        padding-bottom: 0;
        grid-column: 2/3;

        // border-bottom: 1px solid color(grey-light);
      }
      // @include breakpoint(md) {
      //   padding: $nav-height/2 0;
      // }
      @include breakpoint(sm) {
        grid-column: 1/3;
        padding: $nav-height/4 0;
      }
    }
    .instructions-container {
      padding-left: var(--site-margin-half);
      @include breakpoint(lg) {
        padding: $nav-height/2 0;
        margin-top: $nav-height/2;
        border-top: 1px solid color(grey-light);
        grid-column: 1/3;
        // padding-right: 0;
      }
      @include breakpoint(sm) {
        // padding: 0;
        margin-top: 0;
        padding: $nav-height/4 0;
      }
    }
  }
}

//Individual Page Styles------------------------------------

//Index Filter Container
.filter-container {
  .filter-top {
    padding: 0 var(--site-margin);
    height: $nav-height/2;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid color(grey-light);
    // $filter-font-size: 0.8rem;
    // font-size: $filter-font-size;
    letter-spacing: 0.5px;
    @include breakpoint(md) {
      flex-direction: column;
      height: $nav-height;
    }
    button {
      font-size: $text-small;
      border: none;
      letter-spacing: 0.25px;
    }
    .filter-categories {
      display: flex;
      font-size: $text-small;
      @include breakpoint(md) {
        width: 100%;
        border-bottom: 1px solid color(grey-light);
        padding: 0.5rem 0;
      }
      & > p {
        color: color(grey-medium);
        line-height: 18px;
        margin-right: 1rem;
        padding-right: 1rem;
        border-right: 1px solid color(grey-light);
        @include breakpoint(sm) {
          font-size: $text-small;
        }
        // text-transform: uppercase;
      }
      .filter-buttons {
        button {
          margin-right: 1rem;
        }
      }
    }
    .filter-applied {
      display: flex;
      flex-direction: row-reverse;
      @include breakpoint(md) {
        align-self: flex-end;
      }
      & button:first-of-type {
        color: color(accent);
        &:hover {
          color: color(grey-medium);
        }
      }
      button {
        margin-left: 1rem;
      }
      .applied-filter-btn {
        position: relative;
        color: color(grey-medium);
        span {
          display: inline-block;
          position: relative;
          height: 10px;
          width: 10px;
          transition: transform 0.3s ease;
          transform-origin: center center;
          &::before,
          &::after {
            content: '';
            height: 10px;
            width: 1px;
            background-color: color(grey-medium);
            position: absolute;
            right: 50%;
          }
          &::before {
            transform: rotate(45deg);
          }
          &::after {
            transform: rotate(-45deg);
          }
        }
        &:hover {
          color: color(grey-light);
          transition-duration: 0.5s;
          span {
            // transform: translate(3px, 1px) rotate(90deg);
            transform: translate(1px, 1px) rotate(90deg);
            // transform: rotate(90deg);
            &::before,
            &::after {
              background-color: color(grey-light);
            }
          }
        }
      }
    }
  }
  .filter-bottom {
    margin: 2rem var(--site-margin) 0 var(--site-margin);
    height: $nav-height * 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
    // margin-bottom: 1rem;
    p {
      font-size: $text-small;
      color: color(grey-dark);
      margin-bottom: 0.5rem;
    }
    button {
      border: 1px solid color(grey-medium);
      border-radius: 20px;
      padding: 0.25rem 0.75rem;
      color: color(grey-dark);
      margin: 0.25rem;
      &:hover {
        border-color: color(grey-light);
        color: color(grey-light);
      }
    }
  }
}

//index page
.content {
  h1.h1-index {
    text-align: center;
    padding: 4rem 0 2rem 0;
  }
  article {
    .img-zoom {
      img {
        transition: transform 0.5s ease;
        &:hover {
          transform: scale(1.05);
        }
      }
    }
    p {
      color: color(grey-medium);
      font-size: $text-small;
      margin: 0.25rem 0 0.25rem 0;
    }
  }
}

//recipe page
.content {
  .sub-recipe-title {
    display: block;
    margin-top: 2rem;
    color: color(grey-medium);
    font-size: $text-small;
    // text-transform: uppercase;
  }
  h1.recipe-title {
    padding-bottom: 1rem;
  }
  .details {
    // border-right: 1px solid color(grey-light);

    @include breakpoint(lg) {
      border-right: none;
    }
  }
  .recipe-container {
    h2 {
      margin-bottom: 0.5rem;
    }
    ol,
    ul {
      margin-bottom: 1.5rem;
      li {
        margin: 0.25rem 0;
      }
    }
    p,
    li,
    input,
    span,
    td {
      font-size: 0.9rem;
      font-weight: 400;
    }
  }
}

.details {
  .fact:first-of-type {
    margin-top: 0;
  }
  .fact {
    margin: 1rem 0;
    .fact-title {
      // font-weight: 500;
      color: color(grey-dark);
      font-size: $text-small;
      margin-bottom: 0.25rem;
      // text-transform: uppercase;
    }
    p {
      // color: color(grey-medium);
    }
    a {
      text-decoration: underline color(grey-medium);
    }
  }
}

.fact {
  span {
    position: relative;
    right: 7.5rem;
    // width: 7rem;
  }
  table {
    th {
      color: color(grey-dark);
      font-size: $text-small;
      font-weight: 400;
      padding-right: 2.5rem;
    }
    td:first-of-type {
      text-align: left;
    }
    td {
      // text-align: center;
      // padding-right: 1rem;
    }
  }

  input {
    background: color(bg);
    outline: none;
    // border: none;
    border: 1px solid color(grey-light);
    padding: 0.25rem 0.1rem 0.25rem 0.5rem;
    width: 9rem;
    margin: 0;
    &:focus {
      border-color: color(grey-medium);
    }
  }

  #nutrition-input {
    &:hover {
      appearance: number-input;
    }
  }
}

.ingredients-container {
  ul {
    $list-padding: 1.3rem;
    list-style: none;
    padding-left: $list-padding;
    @include breakpoint(lg) {
    }
    li {
      position: relative;
      &::before {
        // width: 6.3rem;
        content: '\2610';
        position: absolute;
        left: -$list-padding;
      }
      &.complete::before {
        content: '\2611';
      }
      em {
        color: color(grey-medium);
        font-style: normal;
      }
    }
  }
}

.instructions-container {
  ol {
    @include breakpoint(lg) {
      padding-left: 1.2rem;
    }
  }
  ul {
    list-style-type: '-  ';
  }
}
